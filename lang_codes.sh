#!/bin/bash
set -Eeo pipefail

# Thanks to https://gist.github.com/kaisyu/6103312
declare -A iso2to1=(
    ["aar"]="aa"
    ["abk"]="ab"
    ["afr"]="af"
    ["aka"]="ak"
    ["alb"]="sq"
    ["amh"]="am"
    ["ara"]="ar"
    ["arg"]="an"
    ["arm"]="hy"
    ["asm"]="as"
    ["ava"]="av"
    ["ave"]="ae"
    ["aym"]="ay"
    ["aze"]="az"
    ["bak"]="ba"
    ["bam"]="bm"
    ["baq"]="eu"
    ["bel"]="be"
    ["ben"]="bn"
    ["bih"]="bh"
    ["bis"]="bi"
    ["tib"]="bo"
    ["bos"]="bs"
    ["bre"]="br"
    ["bul"]="bg"
    ["bur"]="my"
    ["cat"]="ca"
    ["cze"]="cs"
    ["cha"]="ch"
    ["che"]="ce"
    ["chi"]="zh"
    ["chu"]="cu"
    ["chv"]="cv"
    ["cor"]="kw"
    ["cos"]="co"
    ["cre"]="cr"
    ["wel"]="cy"
    ["cze"]="cs"
    ["dan"]="da"
    ["ger"]="de"
    ["div"]="dv"
    ["dut"]="nl"
    ["dzo"]="dz"
    ["gre"]="el"
    ["eng"]="en"
    ["epo"]="eo"
    ["est"]="et"
    ["baq"]="eu"
    ["ewe"]="ee"
    ["fao"]="fo"
    ["per"]="fa"
    ["fij"]="fj"
    ["fin"]="fi"
    ["fra"]="fr"
    ["fre"]="fr"
    ["fry"]="fy"
    ["ful"]="ff"
    ["geo"]="ka"
    ["ger"]="de"
    ["gla"]="gd"
    ["gle"]="ga"
    ["glg"]="gl"
    ["glv"]="gv"
    ["gre"]="el"
    ["grn"]="gn"
    ["guj"]="gu"
    ["hat"]="ht"
    ["hau"]="ha"
    ["heb"]="he"
    ["her"]="hz"
    ["hin"]="hi"
    ["hmo"]="ho"
    ["hrv"]="hr"
    ["hun"]="hu"
    ["arm"]="hy"
    ["ibo"]="ig"
    ["ice"]="is"
    ["ido"]="io"
    ["iii"]="ii"
    ["iku"]="iu"
    ["ile"]="ie"
    ["ina"]="ia"
    ["ind"]="id"
    ["ipk"]="ik"
    ["ice"]="is"
    ["ita"]="it"
    ["jav"]="jv"
    ["jpn"]="ja"
    ["kal"]="kl"
    ["kan"]="kn"
    ["kas"]="ks"
    ["geo"]="ka"
    ["kau"]="kr"
    ["kaz"]="kk"
    ["khm"]="km"
    ["kik"]="ki"
    ["kin"]="rw"
    ["kir"]="ky"
    ["kom"]="kv"
    ["kon"]="kg"
    ["kor"]="ko"
    ["kua"]="kj"
    ["kur"]="ku"
    ["lao"]="lo"
    ["lat"]="la"
    ["lav"]="lv"
    ["lim"]="li"
    ["lin"]="ln"
    ["lit"]="lt"
    ["ltz"]="lb"
    ["lub"]="lu"
    ["lug"]="lg"
    ["mac"]="mk"
    ["mah"]="mh"
    ["mal"]="ml"
    ["mao"]="mi"
    ["mar"]="mr"
    ["may"]="ms"
    ["mac"]="mk"
    ["mlg"]="mg"
    ["mlt"]="mt"
    ["mon"]="mn"
    ["mao"]="mi"
    ["may"]="ms"
    ["bur"]="my"
    ["nau"]="na"
    ["nav"]="nv"
    ["nbl"]="nr"
    ["nde"]="nd"
    ["ndo"]="ng"
    ["nep"]="ne"
    ["dut"]="nl"
    ["nno"]="nn"
    ["nob"]="nb"
    ["nor"]="no"
    ["nya"]="ny"
    ["oci"]="oc"
    ["oji"]="oj"
    ["ori"]="or"
    ["orm"]="om"
    ["oss"]="os"
    ["pan"]="pa"
    ["per"]="fa"
    ["pli"]="pi"
    ["pol"]="pl"
    ["por"]="pt"
    ["pus"]="ps"
    ["que"]="qu"
    ["roh"]="rm"
    ["rum"]="ro"
    ["rum"]="ro"
    ["run"]="rn"
    ["rus"]="ru"
    ["sag"]="sg"
    ["san"]="sa"
    ["sin"]="si"
    ["slo"]="sk"
    ["slo"]="sk"
    ["slv"]="sl"
    ["sme"]="se"
    ["smo"]="sm"
    ["sna"]="sn"
    ["snd"]="sd"
    ["som"]="so"
    ["sot"]="st"
    ["spa"]="es"
    ["alb"]="sq"
    ["srd"]="sc"
    ["srp"]="sr"
    ["ssw"]="ss"
    ["sun"]="su"
    ["swa"]="sw"
    ["swe"]="sv"
    ["tah"]="ty"
    ["tam"]="ta"
    ["tat"]="tt"
    ["tel"]="te"
    ["tgk"]="tg"
    ["tgl"]="tl"
    ["tha"]="th"
    ["tib"]="bo"
    ["tir"]="ti"
    ["ton"]="to"
    ["tsn"]="tn"
    ["tso"]="ts"
    ["tuk"]="tk"
    ["tur"]="tr"
    ["twi"]="tw"
    ["uig"]="ug"
    ["ukr"]="uk"
    ["urd"]="ur"
    ["uzb"]="uz"
    ["ven"]="ve"
    ["vie"]="vi"
    ["vol"]="vo"
    ["wel"]="cy"
    ["wln"]="wa"
    ["wol"]="wo"
    ["xho"]="xh"
    ["yid"]="yi"
    ["yor"]="yo"
    ["zha"]="za"
    ["chi"]="zh"
    ["zul"]="zu"
)

declare -A iso1to2=(
    ["aa"]="aar"
    ["ab"]="abk"
    ["af"]="afr"
    ["ak"]="aka"
    ["sq"]="alb"
    ["am"]="amh"
    ["ar"]="ara"
    ["an"]="arg"
    ["hy"]="arm"
    ["as"]="asm"
    ["av"]="ava"
    ["ae"]="ave"
    ["ay"]="aym"
    ["az"]="aze"
    ["ba"]="bak"
    ["bm"]="bam"
    ["eu"]="baq"
    ["be"]="bel"
    ["bn"]="ben"
    ["bh"]="bih"
    ["bi"]="bis"
    ["bo"]="tib"
    ["bs"]="bos"
    ["br"]="bre"
    ["bg"]="bul"
    ["my"]="bur"
    ["ca"]="cat"
    ["cs"]="cze"
    ["ch"]="cha"
    ["ce"]="che"
    ["zh"]="chi"
    ["cu"]="chu"
    ["cv"]="chv"
    ["kw"]="cor"
    ["co"]="cos"
    ["cr"]="cre"
    ["cy"]="wel"
    ["cs"]="cze"
    ["da"]="dan"
    ["de"]="ger"
    ["dv"]="div"
    ["nl"]="dut"
    ["dz"]="dzo"
    ["el"]="gre"
    ["en"]="eng"
    ["eo"]="epo"
    ["et"]="est"
    ["eu"]="baq"
    ["ee"]="ewe"
    ["fo"]="fao"
    ["fa"]="per"
    ["fj"]="fij"
    ["fi"]="fin"
    ["fr"]="fra"
    ["fy"]="fry"
    ["ff"]="ful"
    ["ka"]="geo"
    ["de"]="ger"
    ["gd"]="gla"
    ["ga"]="gle"
    ["gl"]="glg"
    ["gv"]="glv"
    ["el"]="gre"
    ["gn"]="grn"
    ["gu"]="guj"
    ["ht"]="hat"
    ["ha"]="hau"
    ["he"]="heb"
    ["hz"]="her"
    ["hi"]="hin"
    ["ho"]="hmo"
    ["hr"]="hrv"
    ["hu"]="hun"
    ["hy"]="arm"
    ["ig"]="ibo"
    ["is"]="ice"
    ["io"]="ido"
    ["ii"]="iii"
    ["iu"]="iku"
    ["ie"]="ile"
    ["ia"]="ina"
    ["id"]="ind"
    ["ik"]="ipk"
    ["is"]="ice"
    ["it"]="ita"
    ["jv"]="jav"
    ["ja"]="jpn"
    ["kl"]="kal"
    ["kn"]="kan"
    ["ks"]="kas"
    ["ka"]="geo"
    ["kr"]="kau"
    ["kk"]="kaz"
    ["km"]="khm"
    ["ki"]="kik"
    ["rw"]="kin"
    ["ky"]="kir"
    ["kv"]="kom"
    ["kg"]="kon"
    ["ko"]="kor"
    ["kj"]="kua"
    ["ku"]="kur"
    ["lo"]="lao"
    ["la"]="lat"
    ["lv"]="lav"
    ["li"]="lim"
    ["ln"]="lin"
    ["lt"]="lit"
    ["lb"]="ltz"
    ["lu"]="lub"
    ["lg"]="lug"
    ["mk"]="mac"
    ["mh"]="mah"
    ["ml"]="mal"
    ["mi"]="mao"
    ["mr"]="mar"
    ["ms"]="may"
    ["mk"]="mac"
    ["mg"]="mlg"
    ["mt"]="mlt"
    ["mn"]="mon"
    ["mi"]="mao"
    ["ms"]="may"
    ["my"]="bur"
    ["na"]="nau"
    ["nv"]="nav"
    ["nr"]="nbl"
    ["nd"]="nde"
    ["ng"]="ndo"
    ["ne"]="nep"
    ["nl"]="dut"
    ["nn"]="nno"
    ["nb"]="nob"
    ["no"]="nor"
    ["ny"]="nya"
    ["oc"]="oci"
    ["oj"]="oji"
    ["or"]="ori"
    ["om"]="orm"
    ["os"]="oss"
    ["pa"]="pan"
    ["fa"]="per"
    ["pi"]="pli"
    ["pl"]="pol"
    ["pt"]="por"
    ["ps"]="pus"
    ["qu"]="que"
    ["rm"]="roh"
    ["ro"]="rum"
    ["ro"]="rum"
    ["rn"]="run"
    ["ru"]="rus"
    ["sg"]="sag"
    ["sa"]="san"
    ["si"]="sin"
    ["sk"]="slo"
    ["sk"]="slo"
    ["sl"]="slv"
    ["se"]="sme"
    ["sm"]="smo"
    ["sn"]="sna"
    ["sd"]="snd"
    ["so"]="som"
    ["st"]="sot"
    ["es"]="spa"
    ["sq"]="alb"
    ["sc"]="srd"
    ["sr"]="srp"
    ["ss"]="ssw"
    ["su"]="sun"
    ["sw"]="swa"
    ["sv"]="swe"
    ["ty"]="tah"
    ["ta"]="tam"
    ["tt"]="tat"
    ["te"]="tel"
    ["tg"]="tgk"
    ["tl"]="tgl"
    ["th"]="tha"
    ["bo"]="tib"
    ["ti"]="tir"
    ["to"]="ton"
    ["tn"]="tsn"
    ["ts"]="tso"
    ["tk"]="tuk"
    ["tr"]="tur"
    ["tw"]="twi"
    ["ug"]="uig"
    ["uk"]="ukr"
    ["ur"]="urd"
    ["uz"]="uzb"
    ["ve"]="ven"
    ["vi"]="vie"
    ["vo"]="vol"
    ["cy"]="wel"
    ["wa"]="wln"
    ["wo"]="wol"
    ["xh"]="xho"
    ["yi"]="yid"
    ["yo"]="yor"
    ["za"]="zha"
    ["zh"]="chi"
    ["zu"]="zul"
)

if [[ -n "${iso1to2[$1]}" ]]; then
    echo ${iso1to2[$1]}
elif [[ -n "${iso2to1[$1]}" ]]; then
    echo ${iso2to1[$1]}
else
    echo "Language code $1 not recognised. The list is far from complete though!"
fi
